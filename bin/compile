#!/usr/bin/env bash
# bin/compile <build-dir> <cache-dir>

# fail fast
set -e

# parse args
BUILD_DIR=$1
CACHE_DIR=$2

curl --silent --location http://git-core.googlecode.com/files/git-1.7.12.tar.gz | tar xz

cd git-1.7.12

md $BUILD_DIR/local
md $BUILD_DIR/local/bin

make prefix=$BUILD_DIR/local/bin all
make prefix=$BUILD_DIR/local/bin install

PATH=$HOME/local/bin:$PATH